<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>JUST DO SIT</title>
    
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="icon" href="icon.png">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #000; /* ストイックな黒 */
            color: #fff;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
        }

        #timer {
            font-size: 8rem;
            font-weight: 200;
            margin-bottom: 2rem;
            font-variant-numeric: tabular-nums;
        }

        .controls {
            display: flex;
            gap: 2rem;
        }

        button {
            background: none;
            border: 1px solid #fff;
            color: #fff;
            padding: 1rem 2rem;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
        }

        button:active {
            background-color: #fff;
            color: #000;
        }

        button:disabled {
            opacity: 0.3;
        }

        /* スマホ用全画面対応 */
        @media (max-width: 600px) {
            #timer { font-size: 5rem; }
        }
    </style>
</head>
<body>

    <div id="timer">20:00</div>

    <div class="controls">
        <button id="startBtn">START</button>
        <button id="resetBtn">RESET</button>
    </div>

    <audio id="bell" src="https://assets.mixkit.co/active_storage/sfx/2568/2568-preview.mp3"></audio>

    <script>
        let timeLeft = 20 * 60;
        let timerId = null;
        const timerDisplay = document.getElementById('timer');
        const startBtn = document.getElementById('startBtn');
        const resetBtn = document.getElementById('resetBtn');
        const bell = document.getElementById('bell');

        function updateDisplay() {
            const mins = Math.floor(timeLeft / 60);
            const secs = timeLeft % 60;
            timerDisplay.textContent = `${mins}:${secs.toString().padStart(2, '0')}`;
        }

        function startTimer() {
            if (timerId) {
                clearInterval(timerId);
                timerId = null;
                startBtn.textContent = 'START';
            } else {
                startBtn.textContent = 'PAUSE';
                timerId = setInterval(() => {
                    timeLeft--;
                    updateDisplay();
                    if (timeLeft <= 0) {
                        clearInterval(timerId);
                        timerId = null;
                        startBtn.textContent = 'START';
                        bell.play(); // 修行終了の合図
                        alert('修行完了。');
                    }
                }, 1000);
            }
        }

        function resetTimer() {
            clearInterval(timerId);
            timerId = null;
            timeLeft = 20 * 60;
            updateDisplay();
            startBtn.textContent = 'START';
        }

        startBtn.addEventListener('click', startTimer);
        resetBtn.addEventListener('click', resetTimer);

        updateDisplay();
    </script>
</body>
</html>
